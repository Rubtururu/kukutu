<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Smart Staking BNB</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/web3@1.10.0/dist/web3.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="container">
    <h1>Smart Staking BNB</h1>

    <button onclick="connectWallet()" class="connect-btn">Conectar Wallet</button>
    <p>Wallet conectada: <span id="walletAddress">No conectada</span></p>

    <section class="stats global">
      <h2>Estadísticas Globales</h2>
      <p>Total en Stake: <strong><span id="totalStaked">...</span> BNB</strong></p>
      <p>Tesorería Total: <strong><span id="totalTreasury">...</span> BNB</strong></p>
      <p>Pool de Dividendos Diario: <strong><span id="dailyDividend">...</span> BNB</strong></p>
      <p>Usuarios Activos: <strong><span id="activeStakers">...</span></strong></p>
    </section>

    <section class="stats user">
      <h2>Tu Participación</h2>
      <p>Tu Stake Actual: <strong><span id="userStaked">...</span> BNB</strong></p>
      <p>Recompensas Pendientes: <strong><span id="userPendingRewards">...</span> BNB</strong></p>
      <p>Estimación Diaria: <strong><span id="userDailyEstimate">...</span> BNB</strong></p>
      <p>Tu Porcentaje de Pool: <strong><span id="userShare">...</span></strong></p>
      <p>Próxima Distribución en: <strong><span id="userNextDistribution">--:--:--</span></strong></p>
    </section>

    <section class="actions">
      <h2>Acciones</h2>

      <div class="form-group">
        <label for="stakeAmount">Cantidad a Stakear (BNB):</label>
        <input type="number" id="stakeAmount" placeholder="Ej: 0.1" step="0.01" />
        <button onclick="stake()">Hacer Stake</button>
      </div>

      <div class="form-group">
        <label for="withdrawAmount">Retiro Parcial (BNB):</label>
        <input type="number" id="withdrawAmount" placeholder="Ej: 0.05" step="0.01" />
        <button onclick="withdrawPartialStake()">Retirar Parcialmente</button>
      </div>

      <div class="form-group">
        <button onclick="withdrawStake()">Retirar Todo el Stake</button>
        <button onclick="withdrawRewards()">Reclamar Recompensas</button>
      </div>
    </section>

    <section class="chart">
      <h2>Histórico de Pool de Dividendos</h2>
      <canvas id="dividendChart"></canvas>
    </section>
  </div>

  <script src="app.js"></script>
</body>
</html>
